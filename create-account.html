<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- ===== CSS ===== -->
        <link rel="stylesheet" href="styles.css">
    
        <!-- ===== BOX ICONS ===== -->
        <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

        <title>Responsive Login Form Sign In Sign Up</title>
    </head>
    <body>

                 <div class="login">
            <div class="login__content">
                <div class="login__img">
                    <img src="assets/img/img-login.svg" alt="">
                </div>

                <div class="login__forms">
                    <form action="#" class="login__registre" id="signup-form">
                       <p id="error-message" class="error-message"></p>
                        <h1 class="login__title">Sign up</h1>
                            <div class="login__box">
                            <i class='bx bx-user login__icon'></i>
                            <input type="text" id="username" placeholder="Username" class="login__input">
                        </div>
    
                        <div class="login__box">
                            <i class='bx bx-user login__icon'></i>
                            <input type="text" id="email" placeholder="Email" class="login__input">
                        </div>
    
                        <div class="login__box">
                            <i class='bx bx-lock-alt login__icon'></i>
                            <input type="password" id="password" placeholder="Password" class="login__input">
                        </div>

                        <a href="#" class="login__forgot" id="forgetLabel">Forgot password?</a>
<button type="submit" class="login__button">Signup</button>


                        

                        <div>
                            <span class="login__account">Don't have an Account ?</span>
                            <span class="login__signin" id="sign-up">Sign Up</span>
                        </form>
                  
  
    </div>
<script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-firestore.js"></script>
<script>
  // Firebase configuration
  var firebaseConfig = {
  apiKey: "AIzaSyAtVvPjdsj84mWqaG4-7SyjbljCnslZ1SM",
  authDomain: "hendaa-1.firebaseapp.com",
  databaseURL: "https://hendaa-1-default-rtdb.firebaseio.com",
  projectId: "hendaa-1",
  storageBucket: "hendaa-1.appspot.com",
  messagingSenderId: "831134776479",
  appId: "1:831134776479:web:56cd7098fc69cd70a376aa"
};
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  // Get a reference to the authentication service
  var auth = firebase.auth();

  // Get a reference to the Firestore database
  var db = firebase.firestore();

  // Get the sign-up form
  var signUpForm = document.getElementById('signup-form');

  // Get the error message div
  var errorMessageDiv = document.getElementById('error-message');

  // Handle sign-up form submission
  signUpForm.addEventListener('submit', function(event) {
    event.preventDefault();

    // Clear previous error messages
    errorMessageDiv.textContent = '';

    // Get user input
    var username = signUpForm['username'].value;
    var email = signUpForm['email'].value;
    var password = signUpForm['password'].value;

    // Create user with email and password
    auth.createUserWithEmailAndPassword(email, password)
      .then(function(userCredential) {
        // Signed up successfully, now add user data to Firestore
        var user = userCredential.user;
        return db.collection('users').doc(user.uid).set({
          username: username,
          email: email,
          balance: 0 // Initial balance
        });
      })
      .then(function() {
        // Redirect user to dashboard or any other page
        window.location.href = 'user-dashs.html';
      })
      .catch(function(error) {
        // Handle errors
        var errorMessage = error.message;
        errorMessageDiv.textContent = errorMessage;
      });
  });
</script>


        <!--===== MAIN JS =====-->
        <script src="main.js"></script>
        
            
    </body>
</html>